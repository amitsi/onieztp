{% extends "layout.html" %}
{% block body %}
    <h3>Configure ONIE Details</h3>
    <p/>
    <form action="{{ url_for('configure_onie') }}" method=post class="add-entry">
      <table>
        <tr><th>ONIE Version:</th><td><input type="text" size="40" name="onie_version" value="{{ onie.onie_version }}"/></td></tr>
        <tr><th>PN Cloud Username:</th><td><input type="text" size="40" name="username" value="{{ onie.username }}"/></td></tr>
        <tr><th>PN Cloud Password:</th><td><input type="password" size="40" name="password"/></td></tr>
        <tr><td/><td><input type="submit" value="Set"/></td></tr>
      </table>
    </form>
    <h3>Configure the DHCP subnet</h3>
    <form action="{{ url_for('configure_subnet') }}" method=post class="add-entry">
      <table>
        <tr><th>Subnet:</th><td><input type="text" size="40" name="subnet" value="{{ server.subnet }}"/></td></tr>
        <tr><th>Subnet Mask:</th><td><input type="text" size="40" name="subnet_mask" value="{{ server.subnet_mask }}"/></td></tr>
        <tr><th>DHCP Range Start:</th><td><input type="text" size="40" name="dhcp_range_start" value="{{ server.dhcp_range_start }}"/></td></tr>
        <tr><th>DHCP Range End:</th><td><input type="text" size="40" name="dhcp_range_end" value="{{ server.dhcp_range_end }}"/></td></tr>
        <tr><th>Primary DNS:</th><td><input type="text" size="40" name="dns_primary" value="{{ server.dns_primary }}"/></td></tr>
        <tr><th>Secondary DNS:</th><td><input type="text" size="40" name="dns_secondary" value="{{ server.dns_secondary }}"/></td></tr>
        <tr><th>Domain Name:</th><td><input type="text" size="40" name="domain_name" value="{{ server.domain_name }}"/></td></tr>
        <tr><th>Gateway:</th><td><input type="text" size="40" name="gateway" value="{{ server.gateway }}"/></td></tr>
        <tr><th>Broadcast Address:</th><td><input type="text" size="40" name="broadcast_address" value="{{ server.broadcast_address }}"/></td></tr>
        <tr><td/><td><input type="submit" value="Set"/></td></tr>
      </table>
    </form>
    <p/>
    <h3>Add a Host Entry</h3>
    <form action="{{ url_for('add_entry') }}" method=post class=add-entry>
      <table>
        <tr><th>Hostname:</th><td><input type="text" size="40" name="hostname"/></td></tr>
        <tr><th>IP:</th><td><input type="text" size="40" name="ip"/></td></tr>
        <tr><th>MAC:</th><td><input type="text" size="40" name="mac"/></td></tr>
        <tr><th>Tag:</th><td><input type="text" size="40" name="tag"/></td></tr>
        <tr><th>Device ID:</th><td><input type="text" size="40" name="device_id"/></td></tr>
        <tr><th>Device Type:</th><td><input type="text" size="40" name="device_type"/></td></tr>
        <tr><td/><td><input type="submit" value="Add"/></td></tr>
      </table>
    </form>

  <ul class=entries>
  <table class="paddedcells">
    <tr><th>Hostname</th><th>IP</th><th>MAC</th><th>Tag</th><th>Device ID</th><th>Device Type</th></tr>
  {% for entry in entries %}
    <tr><th>{{ entry.hostname }}</th>
        <td>{{ entry.ip }}</td>
        <td>{{ entry.mac }}</td>
        <td>{{ entry.tag }}</td>
        <td>{{ entry.device_id }}</td>
        <td>{{ entry.device_type }}</td>
    </tr>
  {% endfor %}
  </table>
  <p/>
  <hr/>
  <ul>
    {% if onie.username and onie.password and onie.onie_version %}
      <li><a href="/launch">Launch Server</a></li>
    {% endif %}
  </ul>
{% endblock %}
